{"mappings":"AAAA,MAAMA,EAAWC,SAASC,cAAc,aAClCC,EAAYF,SAASC,cAAc,uBAEzCF,EAASI,iBAAiB,SAE1B,SAAsBC,GAEpB,IAAIC,EAAU,EACd,IAAIH,EAAUI,UAAUC,SAASC,GAAQA,EAAGC,YAAc,KAC1D,MAAMC,EAAW,IAAIR,EAAUI,UAAUK,KAAI,IA+CtC,IAAIC,SAAQ,CAACC,EAAKC,KACvBC,YAAW,KACMC,KAAKC,SAEP,GACXJ,EAAI,MAEDC,EAAC,KAAI,GAEV,MAtDJF,QAAQM,WAAWR,GAAUS,MAAMC,IACjCA,EAAMb,SAAQ,CAACc,EAAMC,KACnBP,YAAW,KACW,cAAhBM,EAAKE,SACPlB,GAAW,GAEbH,EAAUI,SAASgB,GAAGb,YAAcY,EAAKG,OAASH,EAAKI,OAEnDvB,EAAUI,SAASoB,OAAS,IAAMJ,GACpCP,YAAW,KACLV,IAAYH,EAAUI,SAASoB,QAAWrB,EAG5CsB,MAAM,cAFNA,MAAM,sBAEa,GAEpB,IAAI,GAEJ,IAAJL,EAAQ,GACX,G","sources":["src/js/task-06-game.js"],"sourcesContent":["const startBtn = document.querySelector(\".js-start\");\nconst container = document.querySelector(\".js-game__container\");\n\nstartBtn.addEventListener(\"click\", onStartClick);\n\nfunction onStartClick(e) {\n  //   const result = [];\n  let counter = 0;\n  [...container.children].forEach((el) => (el.textContent = \"\"));\n  const promises = [...container.children].map(() => createPromise());\n\n  Promise.allSettled(promises).then((items) => {\n    items.forEach((item, i) => {\n      setTimeout(() => {\n        if (item.status === \"fulfilled\") {\n          counter += 1;\n        }\n        container.children[i].textContent = item.value || item.reason;\n\n        if (container.children.length - 1 === i) {\n          setTimeout(() => {\n            if (counter === container.children.length || !counter) {\n              alert(\"You are the winner!\");\n            } else {\n              alert(\"Lost money\");\n            }\n          }, 500);\n        }\n      }, i * 700);\n    });\n  });\n\n  //   [...container.children].forEach((el, idx) => {\n  //     return createPromise(idx)\n  //       .then((smile) => {\n  //         el.textContent = smile;\n  //         result.push(\"1\");\n  //       })\n  //       .catch((smile) => {\n  //         el.textContent = smile;\n  //       })\n  //       .finally(() => {\n  //         setTimeout(() => {\n  //           if (idx === container.children.length - 1) {\n  //             if (!result.length || result.length === 3) {\n  //               alert(\"Congratulations, you are the Winner!\");\n  //             } else {\n  //               alert(\"Unfortunately you lost\");\n  //             }\n  //           }\n  //         }, 500);\n  //       });\n  //   });\n}\n\nfunction createPromise() {\n  return new Promise((res, rej) => {\n    setTimeout(() => {\n      const random = Math.random();\n\n      if (random > 0.5) {\n        res(\"ðŸ¤‘\");\n      } else {\n        rej(\"ðŸ˜ˆ\");\n      }\n    });\n  });\n}\n"],"names":["$b149e9788ab75d89$var$startBtn","document","querySelector","$b149e9788ab75d89$var$container","addEventListener","e","counter","children","forEach","el","textContent","promises","map","Promise","res","rej","setTimeout","Math","random","allSettled","then","items","item","i","status","value","reason","length","alert"],"version":3,"file":"task-06-game.1db52c51.js.map"}