{"mappings":"AAAA,MAAMA,EAASC,SAASC,cAAc,cAChCC,EAAOF,SAASC,cAAc,YAEpCF,EAAOI,iBAAiB,UAExB,SAAwBC,GACtBA,EAAEC,iBACF,MAAMC,MAAEA,EAAKC,KAAEA,GAASH,EAAEI,cAAcC,UAM1C,SAAoBC,EAAMH,GAExB,MAAMI,EAAW,+BAEXC,EAAS,IAAIC,gBAAgB,CACjCC,IAFc,kCAGdC,EAAGL,E,KACHH,EACAS,KAAM,OAGR,OAAOC,MAEL,GAAGN,mBAA0BC,KAC7BM,MAAMC,IACN,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAEvB,OAAOH,EAAKI,MAAM,G,EAvBpBC,CAAWlB,EAAMmB,MAAOlB,EAAKkB,OAC1BP,MAAMQ,GAAUxB,EAAKyB,UAAyBD,EAAKE,SAASC,YA4B5DC,KACC,EAACC,KACCA,EACAC,KAAKC,UACHA,EACAC,WAAWC,KAAEA,EAAIC,KAAEA,OAEjB,qBACED,WAAcC,aACrBA,gBACCL,iBACAE,kBAGHI,KAAK,MAzCLC,OAAOC,GAAQC,QAAQC,IAAIF,I","sources":["src/js/task-07-forecast.js"],"sourcesContent":["const search = document.querySelector(\".js-search\");\nconst list = document.querySelector(\".js-list\");\n\nsearch.addEventListener(\"submit\", onSearchSubmit);\n\nfunction onSearchSubmit(e) {\n  e.preventDefault();\n  const { query, days } = e.currentTarget.elements;\n  getWeather(query.value, days.value)\n    .then((data) => (list.innerHTML = createMarkup(data.forecast.forecastday)))\n    .catch((err) => console.log(err));\n}\n\nfunction getWeather(city, days) {\n  //http://api.weatherapi.com/v1/forecast.json?key=baa62dbb5a8a449c87b194856231311&q=Lviv&days=5&lang=uk\n  const BASE_URL = \"http://api.weatherapi.com/v1\";\n  const API_KEY = \"baa62dbb5a8a449c87b194856231311\";\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: city,\n    days,\n    lang: \"uk\",\n  });\n\n  return fetch(\n    //  `${BASE_URL}/forecast.json?key=${API_KEY}&q=${city}&days=${days}&lang=uk`\n    `${BASE_URL}/forecast.json?${params}`\n  ).then((resp) => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        date,\n        day: {\n          avgtemp_c,\n          condition: { icon, text },\n        },\n      }) => `<li>\n  <img src=\"${icon}\" alt=\"${text}\">\n  <p>${text}</p>\n  <h2>${date}</h2>\n  <h3>${avgtemp_c}</h3>\n</li>`\n    )\n    .join(\"\");\n}\n"],"names":["$17441de09880f1ca$var$search","document","querySelector","$17441de09880f1ca$var$list","addEventListener","e","preventDefault","query","days","currentTarget","elements","city","BASE_URL","params","URLSearchParams","key","q","lang","fetch","then","resp","ok","Error","statusText","json","$17441de09880f1ca$var$getWeather","value","data","innerHTML","forecast","forecastday","map","date","day","avgtemp_c","condition","icon","text","join","catch","err","console","log"],"version":3,"file":"task-07-forecast.713170e7.js.map"}